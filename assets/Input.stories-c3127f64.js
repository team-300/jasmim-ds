import{a as De,j as N}from"./jsx-runtime-bc5d6cf6.js";import{c as St,I as Se}from"./IconButton-327457c9.js";import{R as k}from"./index-c013ead5.js";import{a as kt}from"./chunk-OPEUWD42-a3b45fd8.js";import"./index-36f1bf24.js";import"./_commonjsHelpers-725317a4.js";var le=e=>e.type==="checkbox",te=e=>e instanceof Date,L=e=>e==null;const ut=e=>typeof e=="object";var E=e=>!L(e)&&!Array.isArray(e)&&ut(e)&&!te(e),at=e=>E(e)&&e.target?le(e.target)?e.target.checked:e.target.value:e,Et=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,lt=(e,i)=>e.has(Et(i)),Ct=e=>{const i=e.constructor&&e.constructor.prototype;return E(i)&&i.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Te&&(e instanceof Blob||e instanceof FileList))&&(s||E(e)))if(i=s?[]:{},!s&&!Ct(e))i=e;else for(const t in e)e.hasOwnProperty(t)&&(i[t]=j(e[t]));else return e;return i}var oe=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,c=(e,i,s)=>{if(!i||!E(e))return s;const t=oe(i.split(/[,[\].]+?/)).reduce((n,l)=>L(n)?n:n[l],e);return S(t)||t===e?S(e[i])?s:e[i]:t};const he={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ot=k.createContext(null),Ne=()=>k.useContext(ot),Ot=e=>{const{children:i,...s}=e;return k.createElement(ot.Provider,{value:s},i)};var ct=(e,i,s,t=!0)=>{const n={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(n,l,{get:()=>{const d=l;return i._proxyFormState[d]!==H.all&&(i._proxyFormState[d]=!t||H.all),s&&(s[d]=!0),e[d]}});return n},B=e=>E(e)&&!Object.keys(e).length,ft=(e,i,s,t)=>{s(e);const{name:n,...l}=e;return B(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(d=>i[d]===(!t||H.all))},de=e=>Array.isArray(e)?e:[e],dt=(e,i,s)=>s&&i?e===i:!e||!i||e===i||de(e).some(t=>t&&(t.startsWith(i)||i.startsWith(t)));function Ue(e){const i=k.useRef(e);i.current=e,k.useEffect(()=>{const s=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}function Rt(e){const i=Ne(),{control:s=i.control,disabled:t,name:n,exact:l}=e||{},[d,g]=k.useState(s._formState),v=k.useRef(!0),_=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),C=k.useRef(n);return C.current=n,Ue({disabled:t,next:x=>v.current&&dt(C.current,x.name,l)&&ft(x,_.current,s._updateFormState)&&g({...s._formState,...x}),subject:s._subjects.state}),k.useEffect(()=>(v.current=!0,_.current.isValid&&s._updateValid(!0),()=>{v.current=!1}),[s]),ct(d,s,_.current,!1)}var z=e=>typeof e=="string",yt=(e,i,s,t,n)=>z(e)?(t&&i.watch.add(e),c(s,e,n)):Array.isArray(e)?e.map(l=>(t&&i.watch.add(l),c(s,l))):(t&&(i.watchAll=!0),s);function Lt(e){const i=Ne(),{control:s=i.control,name:t,defaultValue:n,disabled:l,exact:d}=e||{},g=k.useRef(t);g.current=t,Ue({disabled:l,subject:s._subjects.values,next:C=>{dt(g.current,C.name,d)&&_(j(yt(g.current,s._names,C.values||s._formValues,!1,n)))}});const[v,_]=k.useState(s._getWatch(t,n));return k.useEffect(()=>s._removeUnmounted()),v}var Me=e=>/^\w*$/.test(e),ht=e=>oe(e.replace(/["|']|\]/g,"").split(/\.|\[/));function A(e,i,s){let t=-1;const n=Me(i)?[i]:ht(i),l=n.length,d=l-1;for(;++t<l;){const g=n[t];let v=s;if(t!==d){const _=e[g];v=E(_)||Array.isArray(_)?_:isNaN(+n[t+1])?{}:[]}e[g]=v,e=e[g]}return e}function Tt(e){const i=Ne(),{name:s,control:t=i.control,shouldUnregister:n}=e,l=lt(t._names.array,s),d=Lt({control:t,name:s,defaultValue:c(t._formValues,s,c(t._defaultValues,s,e.defaultValue)),exact:!0}),g=Rt({control:t,name:s}),v=k.useRef(t.register(s,{...e.rules,value:d}));return v.current=t.register(s,e.rules),k.useEffect(()=>{const _=t._options.shouldUnregister||n,C=(x,b)=>{const I=c(t._fields,x);I&&(I._f.mount=b)};if(C(s,!0),_){const x=j(c(t._options.defaultValues,s));A(t._defaultValues,s,x),S(c(t._formValues,s))&&A(t._formValues,s,x)}return()=>{(l?_&&!t._state.action:_)?t.unregister(s):C(s,!1)}},[s,t,l,n]),{field:{name:s,value:d,onChange:k.useCallback(_=>v.current.onChange({target:{value:at(_),name:s},type:he.CHANGE}),[s]),onBlur:k.useCallback(()=>v.current.onBlur({target:{value:c(t._formValues,s),name:s},type:he.BLUR}),[s,t]),ref:_=>{const C=c(t._fields,s);C&&_&&(C._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:x=>_.setCustomValidity(x),reportValidity:()=>_.reportValidity()})}},formState:g,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(g.errors,s)},isDirty:{enumerable:!0,get:()=>!!c(g.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!c(g.touchedFields,s)},error:{enumerable:!0,get:()=>c(g.errors,s)}})}}const Nt=e=>e.render(Tt(e));var Ut=(e,i,s,t,n)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[t]:n||!0}}:{};const Re=(e,i,s)=>{for(const t of s||Object.keys(e)){const n=c(e,t);if(n){const{_f:l,...d}=n;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else E(d)&&Re(d,i)}}};var Je=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched}),Qe=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Mt=(e,i,s)=>{const t=oe(c(e,s));return A(t,"root",i[s]),A(e,s,t),e},re=e=>typeof e=="boolean",Be=e=>e.type==="file",J=e=>typeof e=="function",ge=e=>{if(!Te)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ye=e=>z(e),Ie=e=>e.type==="radio",ve=e=>e instanceof RegExp;const Xe={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var gt=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Xe}return Xe};const Ze={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,Ze):Ze;function et(e,i,s="validate"){if(ye(e)||Array.isArray(e)&&e.every(ye)||re(e)&&!e)return{type:s,message:ye(e)?e:"",ref:i}}var ee=e=>E(e)&&!ve(e)?e:{value:e,message:""},tt=async(e,i,s,t,n)=>{const{ref:l,refs:d,required:g,maxLength:v,minLength:_,min:C,max:x,pattern:b,validate:I,name:U,valueAsNumber:be,mount:ce,disabled:Ve}=e._f,m=c(i,U);if(!ce||Ve)return{};const P=d?d[0]:l,$=F=>{t&&P.reportValidity&&(P.setCustomValidity(re(F)?"":F||""),P.reportValidity())},O={},se=Ie(l),ie=le(l),xe=se||ie,q=(be||Be(l))&&S(l.value)&&S(m)||ge(l)&&l.value===""||m===""||Array.isArray(m)&&!m.length,Q=Ut.bind(null,U,s,O),K=(F,V,w,T=G.maxLength,M=G.minLength)=>{const W=F?V:w;O[U]={type:F?T:M,message:W,ref:l,...Q(F?T:M,W)}};if(n?!Array.isArray(m)||!m.length:g&&(!xe&&(q||L(m))||re(m)&&!m||ie&&!gt(d).isValid||se&&!vt(d).isValid)){const{value:F,message:V}=ye(g)?{value:!!g,message:g}:ee(g);if(F&&(O[U]={type:G.required,message:V,ref:P,...Q(G.required,V)},!s))return $(V),O}if(!q&&(!L(C)||!L(x))){let F,V;const w=ee(x),T=ee(C);if(!L(m)&&!isNaN(m)){const M=l.valueAsNumber||m&&+m;L(w.value)||(F=M>w.value),L(T.value)||(V=M<T.value)}else{const M=l.valueAsDate||new Date(m),W=ue=>new Date(new Date().toDateString()+" "+ue),X=l.type=="time",ne=l.type=="week";z(w.value)&&m&&(F=X?W(m)>W(w.value):ne?m>w.value:M>new Date(w.value)),z(T.value)&&m&&(V=X?W(m)<W(T.value):ne?m<T.value:M<new Date(T.value))}if((F||V)&&(K(!!F,w.message,T.message,G.max,G.min),!s))return $(O[U].message),O}if((v||_)&&!q&&(z(m)||n&&Array.isArray(m))){const F=ee(v),V=ee(_),w=!L(F.value)&&m.length>+F.value,T=!L(V.value)&&m.length<+V.value;if((w||T)&&(K(w,F.message,V.message),!s))return $(O[U].message),O}if(b&&!q&&z(m)){const{value:F,message:V}=ee(b);if(ve(F)&&!m.match(F)&&(O[U]={type:G.pattern,message:V,ref:l,...Q(G.pattern,V)},!s))return $(V),O}if(I){if(J(I)){const F=await I(m,i),V=et(F,P);if(V&&(O[U]={...V,...Q(G.validate,V.message)},!s))return $(V.message),O}else if(E(I)){let F={};for(const V in I){if(!B(F)&&!s)break;const w=et(await I[V](m,i),P,V);w&&(F={...w,...Q(V,w.message)},$(w.message),s&&(O[U]=F))}if(!B(F)&&(O[U]={ref:P,...F},!s))return O}}return $(!0),O};function Bt(e,i){const s=i.slice(0,-1).length;let t=0;for(;t<s;)e=S(e)?t++:e[i[t++]];return e}function It(e){for(const i in e)if(e.hasOwnProperty(i)&&!S(e[i]))return!1;return!0}function R(e,i){const s=Array.isArray(i)?i:Me(i)?[i]:ht(i),t=s.length===1?e:Bt(e,s),n=s.length-1,l=s[n];return t&&delete t[l],n!==0&&(E(t)&&B(t)||Array.isArray(t)&&It(t))&&R(e,s.slice(0,-1)),e}function ke(){let e=[];return{get observers(){return e},next:n=>{for(const l of e)l.next&&l.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(l=>l!==n)}}),unsubscribe:()=>{e=[]}}}var me=e=>L(e)||!ut(e);function Y(e,i){if(me(e)||me(i))return e===i;if(te(e)&&te(i))return e.getTime()===i.getTime();const s=Object.keys(e),t=Object.keys(i);if(s.length!==t.length)return!1;for(const n of s){const l=e[n];if(!t.includes(n))return!1;if(n!=="ref"){const d=i[n];if(te(l)&&te(d)||E(l)&&E(d)||Array.isArray(l)&&Array.isArray(d)?!Y(l,d):l!==d)return!1}}return!0}var mt=e=>e.type==="select-multiple",Pt=e=>Ie(e)||le(e),Ee=e=>ge(e)&&e.isConnected,_t=e=>{for(const i in e)if(J(e[i]))return!0;return!1};function _e(e,i={}){const s=Array.isArray(e);if(E(e)||s)for(const t in e)Array.isArray(e[t])||E(e[t])&&!_t(e[t])?(i[t]=Array.isArray(e[t])?[]:{},_e(e[t],i[t])):L(e[t])||(i[t]=!0);return i}function bt(e,i,s){const t=Array.isArray(e);if(E(e)||t)for(const n in e)Array.isArray(e[n])||E(e[n])&&!_t(e[n])?S(i)||me(s[n])?s[n]=Array.isArray(e[n])?_e(e[n],[]):{..._e(e[n])}:bt(e[n],L(i)?{}:i[n],s[n]):s[n]=!Y(e[n],i[n]);return s}var Ce=(e,i)=>bt(e,i,_e(i)),Vt=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:t})=>S(e)?e:i?e===""?NaN:e&&+e:s&&z(e)?new Date(e):t?t(e):e;function Oe(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Be(i)?i.files:Ie(i)?vt(e.refs).value:mt(i)?[...i.selectedOptions].map(({value:s})=>s):le(i)?gt(e.refs).value:Vt(S(i.value)?e.ref.value:i.value,e)}var Ht=(e,i,s,t)=>{const n={};for(const l of e){const d=c(i,l);d&&A(n,l,d._f)}return{criteriaMode:s,names:[...e],fields:n,shouldUseNativeValidation:t}},ae=e=>S(e)?e:ve(e)?e.source:E(e)?ve(e.value)?e.value.source:e.value:e,qt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function rt(e,i,s){const t=c(e,s);if(t||Me(s))return{error:t,name:s};const n=s.split(".");for(;n.length;){const l=n.join("."),d=c(i,l),g=c(e,l);if(d&&!Array.isArray(d)&&s!==l)return{name:s};if(g&&g.type)return{name:l,error:g};n.pop()}return{name:s}}var Wt=(e,i,s,t,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(i||e):(s?t.isOnBlur:n.isOnBlur)?!e:(s?t.isOnChange:n.isOnChange)?e:!0,jt=(e,i)=>!oe(c(e,i)).length&&R(e,i);const zt={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function $t(e={},i){let s={...zt,...e},t={submitCount:0,isDirty:!1,isLoading:J(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},l=E(s.defaultValues)||E(s.values)?j(s.defaultValues||s.values)||{}:{},d=s.shouldUnregister?{}:j(l),g={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},_,C=0;const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:ke(),array:ke(),state:ke()},I=e.resetOptions&&e.resetOptions.keepDirtyValues,U=Je(s.mode),be=Je(s.reValidateMode),ce=s.criteriaMode===H.all,Ve=r=>u=>{clearTimeout(C),C=setTimeout(r,u)},m=async r=>{if(x.isValid||r){const u=s.resolver?B((await q()).errors):await K(n,!0);u!==t.isValid&&b.state.next({isValid:u})}},P=r=>x.isValidating&&b.state.next({isValidating:r}),$=(r,u=[],a,y,f=!0,o=!0)=>{if(y&&a){if(g.action=!0,o&&Array.isArray(c(n,r))){const h=a(c(n,r),y.argA,y.argB);f&&A(n,r,h)}if(o&&Array.isArray(c(t.errors,r))){const h=a(c(t.errors,r),y.argA,y.argB);f&&A(t.errors,r,h),jt(t.errors,r)}if(x.touchedFields&&o&&Array.isArray(c(t.touchedFields,r))){const h=a(c(t.touchedFields,r),y.argA,y.argB);f&&A(t.touchedFields,r,h)}x.dirtyFields&&(t.dirtyFields=Ce(l,d)),b.state.next({name:r,isDirty:V(r,u),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(d,r,u)},O=(r,u)=>{A(t.errors,r,u),b.state.next({errors:t.errors})},se=(r,u,a,y)=>{const f=c(n,r);if(f){const o=c(d,r,S(a)?c(l,r):a);S(o)||y&&y.defaultChecked||u?A(d,r,u?o:Oe(f._f)):M(r,o),g.mount&&m()}},ie=(r,u,a,y,f)=>{let o=!1,h=!1;const p={name:r};if(!a||y){x.isDirty&&(h=t.isDirty,t.isDirty=p.isDirty=V(),o=h!==p.isDirty);const D=Y(c(l,r),u);h=c(t.dirtyFields,r),D?R(t.dirtyFields,r):A(t.dirtyFields,r,!0),p.dirtyFields=t.dirtyFields,o=o||x.dirtyFields&&h!==!D}if(a){const D=c(t.touchedFields,r);D||(A(t.touchedFields,r,a),p.touchedFields=t.touchedFields,o=o||x.touchedFields&&D!==a)}return o&&f&&b.state.next(p),o?p:{}},xe=(r,u,a,y)=>{const f=c(t.errors,r),o=x.isValid&&re(u)&&t.isValid!==u;if(e.delayError&&a?(_=Ve(()=>O(r,a)),_(e.delayError)):(clearTimeout(C),_=null,a?A(t.errors,r,a):R(t.errors,r)),(a?!Y(f,a):f)||!B(y)||o){const h={...y,...o&&re(u)?{isValid:u}:{},errors:t.errors,name:r};t={...t,...h},b.state.next(h)}P(!1)},q=async r=>s.resolver(d,s.context,Ht(r||v.mount,n,s.criteriaMode,s.shouldUseNativeValidation)),Q=async r=>{const{errors:u}=await q();if(r)for(const a of r){const y=c(u,a);y?A(t.errors,a,y):R(t.errors,a)}else t.errors=u;return u},K=async(r,u,a={valid:!0})=>{for(const y in r){const f=r[y];if(f){const{_f:o,...h}=f;if(o){const p=v.array.has(o.name),D=await tt(f,d,ce,s.shouldUseNativeValidation&&!u,p);if(D[o.name]&&(a.valid=!1,u))break;!u&&(c(D,o.name)?p?Mt(t.errors,D,o.name):A(t.errors,o.name,D[o.name]):R(t.errors,o.name))}h&&await K(h,u,a)}}return a.valid},F=()=>{for(const r of v.unMount){const u=c(n,r);u&&(u._f.refs?u._f.refs.every(a=>!Ee(a)):!Ee(u._f.ref))&&Fe(r)}v.unMount=new Set},V=(r,u)=>(r&&u&&A(d,r,u),!Y(Pe(),l)),w=(r,u,a)=>yt(r,v,{...g.mount?d:S(u)?l:z(r)?{[r]:u}:u},a,u),T=r=>oe(c(g.mount?d:l,r,e.shouldUnregister?c(l,r,[]):[])),M=(r,u,a={})=>{const y=c(n,r);let f=u;if(y){const o=y._f;o&&(!o.disabled&&A(d,r,Vt(u,o)),f=ge(o.ref)&&L(u)?"":u,mt(o.ref)?[...o.ref.options].forEach(h=>h.selected=f.includes(h.value)):o.refs?le(o.ref)?o.refs.length>1?o.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(f)?!!f.find(p=>p===h.value):f===h.value)):o.refs[0]&&(o.refs[0].checked=!!f):o.refs.forEach(h=>h.checked=h.value===f):Be(o.ref)?o.ref.value="":(o.ref.value=f,o.ref.type||b.values.next({name:r,values:{...d}})))}(a.shouldDirty||a.shouldTouch)&&ie(r,f,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&ue(r)},W=(r,u,a)=>{for(const y in u){const f=u[y],o=`${r}.${y}`,h=c(n,o);(v.array.has(r)||!me(f)||h&&!h._f)&&!te(f)?W(o,f,a):M(o,f,a)}},X=(r,u,a={})=>{const y=c(n,r),f=v.array.has(r),o=j(u);A(d,r,o),f?(b.array.next({name:r,values:{...d}}),(x.isDirty||x.dirtyFields)&&a.shouldDirty&&b.state.next({name:r,dirtyFields:Ce(l,d),isDirty:V(r,o)})):y&&!y._f&&!L(o)?W(r,o,a):M(r,o,a),Qe(r,v)&&b.state.next({...t}),b.values.next({name:r,values:{...d}}),!g.mount&&i()},ne=async r=>{const u=r.target;let a=u.name,y=!0;const f=c(n,a),o=()=>u.type?Oe(f._f):at(r);if(f){let h,p;const D=o(),Z=r.type===he.BLUR||r.type===he.FOCUS_OUT,pt=!qt(f._f)&&!s.resolver&&!c(t.errors,a)&&!f._f.deps||Wt(Z,c(t.touchedFields,a),t.isSubmitted,be,U),pe=Qe(a,v,Z);A(d,a,D),Z?(f._f.onBlur&&f._f.onBlur(r),_&&_(0)):f._f.onChange&&f._f.onChange(r);const we=ie(a,D,Z,!1),wt=!B(we)||pe;if(!Z&&b.values.next({name:a,type:r.type,values:{...d}}),pt)return x.isValid&&m(),wt&&b.state.next({name:a,...pe?{}:we});if(!Z&&pe&&b.state.next({...t}),P(!0),s.resolver){const{errors:Ke}=await q([a]),Dt=rt(t.errors,n,a),Ge=rt(Ke,n,Dt.name||a);h=Ge.error,a=Ge.name,p=B(Ke)}else h=(await tt(f,d,ce,s.shouldUseNativeValidation))[a],y=isNaN(D)||D===c(d,a,D),y&&(h?p=!1:x.isValid&&(p=await K(n,!0)));y&&(f._f.deps&&ue(f._f.deps),xe(a,p,h,we))}},ue=async(r,u={})=>{let a,y;const f=de(r);if(P(!0),s.resolver){const o=await Q(S(r)?r:f);a=B(o),y=r?!f.some(h=>c(o,h)):a}else r?(y=(await Promise.all(f.map(async o=>{const h=c(n,o);return await K(h&&h._f?{[o]:h}:h)}))).every(Boolean),!(!y&&!t.isValid)&&m()):y=a=await K(n);return b.state.next({...!z(r)||x.isValid&&a!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:a}:{},errors:t.errors,isValidating:!1}),u.shouldFocus&&!y&&Re(n,o=>o&&c(t.errors,o),r?f:v.mount),y},Pe=r=>{const u={...l,...g.mount?d:{}};return S(r)?u:z(r)?c(u,r):r.map(a=>c(u,a))},He=(r,u)=>({invalid:!!c((u||t).errors,r),isDirty:!!c((u||t).dirtyFields,r),isTouched:!!c((u||t).touchedFields,r),error:c((u||t).errors,r)}),xt=r=>{r&&de(r).forEach(u=>R(t.errors,u)),b.state.next({errors:r?t.errors:{}})},qe=(r,u,a)=>{const y=(c(n,r,{_f:{}})._f||{}).ref;A(t.errors,r,{...u,ref:y}),b.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&y&&y.focus&&y.focus()},Ft=(r,u)=>J(r)?b.values.subscribe({next:a=>r(w(void 0,u),a)}):w(r,u,!0),Fe=(r,u={})=>{for(const a of r?de(r):v.mount)v.mount.delete(a),v.array.delete(a),u.keepValue||(R(n,a),R(d,a)),!u.keepError&&R(t.errors,a),!u.keepDirty&&R(t.dirtyFields,a),!u.keepTouched&&R(t.touchedFields,a),!s.shouldUnregister&&!u.keepDefaultValue&&R(l,a);b.values.next({values:{...d}}),b.state.next({...t,...u.keepDirty?{isDirty:V()}:{}}),!u.keepIsValid&&m()},Ae=(r,u={})=>{let a=c(n,r);const y=re(u.disabled);return A(n,r,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:r}},name:r,mount:!0,...u}}),v.mount.add(r),a?y&&A(d,r,u.disabled?void 0:c(d,r,Oe(a._f))):se(r,!0,u.value),{...y?{disabled:u.disabled}:{},...s.progressive?{required:!!u.required,min:ae(u.min),max:ae(u.max),minLength:ae(u.minLength),maxLength:ae(u.maxLength),pattern:ae(u.pattern)}:{},name:r,onChange:ne,onBlur:ne,ref:f=>{if(f){Ae(r,u),a=c(n,r);const o=S(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Pt(o),p=a._f.refs||[];if(h?p.find(D=>D===o):o===a._f.ref)return;A(n,r,{_f:{...a._f,...h?{refs:[...p.filter(Ee),o,...Array.isArray(c(l,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),se(r,!1,void 0,o)}else a=c(n,r,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||u.shouldUnregister)&&!(lt(v.array,r)&&g.action)&&v.unMount.add(r)}}},We=()=>s.shouldFocusError&&Re(n,r=>r&&c(t.errors,r),v.mount),je=(r,u)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let y=j(d);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:o}=await q();t.errors=f,y=o}else await K(n);R(t.errors,"root"),B(t.errors)?(b.state.next({errors:{}}),await r(y,a)):(u&&await u({...t.errors},a),We(),setTimeout(We)),b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors),submitCount:t.submitCount+1,errors:t.errors})},At=(r,u={})=>{c(n,r)&&(S(u.defaultValue)?X(r,c(l,r)):(X(r,u.defaultValue),A(l,r,u.defaultValue)),u.keepTouched||R(t.touchedFields,r),u.keepDirty||(R(t.dirtyFields,r),t.isDirty=u.defaultValue?V(r,c(l,r)):V()),u.keepError||(R(t.errors,r),x.isValid&&m()),b.state.next({...t}))},ze=(r,u={})=>{const a=r||l,y=j(a),f=r&&!B(r)?y:l;if(u.keepDefaultValues||(l=a),!u.keepValues){if(u.keepDirtyValues||I)for(const o of v.mount)c(t.dirtyFields,o)?A(f,o,c(d,o)):X(o,c(f,o));else{if(Te&&S(r))for(const o of v.mount){const h=c(n,o);if(h&&h._f){const p=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(ge(p)){const D=p.closest("form");if(D){D.reset();break}}}}n={}}d=e.shouldUnregister?u.keepDefaultValues?j(l):{}:j(f),b.array.next({values:{...f}}),b.values.next({values:{...f}})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!g.mount&&i(),g.mount=!x.isValid||!!u.keepIsValid,g.watch=!!e.shouldUnregister,b.state.next({submitCount:u.keepSubmitCount?t.submitCount:0,isDirty:u.keepDirty?t.isDirty:!!(u.keepDefaultValues&&!Y(r,l)),isSubmitted:u.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:u.keepDirtyValues?t.dirtyFields:u.keepDefaultValues&&r?Ce(l,r):{},touchedFields:u.keepTouched?t.touchedFields:{},errors:u.keepErrors?t.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$e=(r,u)=>ze(J(r)?r(d):r,u);return{control:{register:Ae,unregister:Fe,getFieldState:He,handleSubmit:je,setError:qe,_executeSchema:q,_getWatch:w,_getDirty:V,_updateValid:m,_removeUnmounted:F,_updateFieldArray:$,_getFieldArray:T,_reset:ze,_resetDefaultValues:()=>J(s.defaultValues)&&s.defaultValues().then(r=>{$e(r,s.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_subjects:b,_proxyFormState:x,get _fields(){return n},get _formValues(){return d},get _state(){return g},set _state(r){g=r},get _defaultValues(){return l},get _names(){return v},set _names(r){v=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:ue,register:Ae,handleSubmit:je,watch:Ft,setValue:X,getValues:Pe,reset:$e,resetField:At,clearErrors:xt,unregister:Fe,setError:qe,setFocus:(r,u={})=>{const a=c(n,r),y=a&&a._f;if(y){const f=y.refs?y.refs[0]:y.ref;f.focus&&(f.focus(),u.shouldSelect&&f.select())}},getFieldState:He}}function Kt(e={}){const i=k.useRef(),[s,t]=k.useState({isDirty:!1,isValidating:!1,isLoading:J(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:J(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...$t(e,()=>t(l=>({...l}))),formState:s});const n=i.current.control;return n._options=e,Ue({subject:n._subjects.state,next:l=>{ft(l,n._proxyFormState,n._updateFormState,!0)&&t({...n._formState})}}),k.useEffect(()=>{e.values&&!Y(e.values,n._defaultValues)?n._reset(e.values,n._options.resetOptions):n._resetDefaultValues()},[e.values,n]),k.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),i.current.formState=ct(s,n),i.current}const Gt=({isPassword:e,label:i,error:s,name:t,control:n,mask:l,handleViewPassoword:d,viewPassword:g,...v})=>De("div",{className:"flex w-full flex-col",children:[i&&N("label",{className:"mb-[6px] font-medium text-gray-6",htmlFor:t,children:i}),De("div",{className:"relative flex w-full items-center",children:[N(Nt,{control:n,name:t,render:({field:_})=>N("input",{type:e?g?"text":"password":v.type,id:t,value:l?l(_.value):_.value,onChange:_.onChange,className:St({"bg-[#FCEDEF] ring-2 ring-danger-pure":s,"focus:ring-brand-medium-2":!s},"relative w-full rounded-md border border-gray-4 px-4 py-3 font-nunito-sans text-black outline-0 transition-all duration-200 placeholder:text-[#A0A6AD] hover:border-gray-3 focus:ring-2"),...v})}),e&&N("div",{className:"absolute right-3 z-50",children:N("button",{type:"button",onClick:d,className:"flex cursor-pointer items-center justify-center p-1",children:g?N(Se,{icon:"eye-show",size:24,className:"text-gray-5"}):N(Se,{icon:"eye-hide",size:24,className:"text-gray-5"})})})]}),s&&De("div",{className:"mt-[6px] flex items-center gap-[6px]",children:[N(Se,{icon:"alert",size:16,className:"text-danger-medium-2"}),N("div",{children:N("p",{className:"font-nunito-sans text-danger-medium-2",children:s})})]})]}),Jt=({children:e})=>{const i=Kt();return N(Ot,{...i,children:N("form",{onSubmit:i.handleSubmit(kt("[React Hooks Form] Submit")),children:e})})},Le=e=>N(Jt,{children:N(e,{})});try{Le.displayName="withRHF",Le.__docgenInfo={description:"",displayName:"withRHF",props:{}}}catch{}const nr={title:"Form/Input",component:Gt,decorators:[Le],args:{}},fe={args:{type:"text",label:"Nome completo",name:"name",placeholder:"Digite seu nome",error:""}};var st,it,nt;fe.parameters={...fe.parameters,docs:{...(st=fe.parameters)==null?void 0:st.docs,source:{originalSource:`{
  args: {
    type: 'text',
    label: 'Nome completo',
    name: 'name',
    placeholder: 'Digite seu nome',
    error: ''
  }
}`,...(nt=(it=fe.parameters)==null?void 0:it.docs)==null?void 0:nt.source}}};const ur=["Default"];export{fe as Default,ur as __namedExportsOrder,nr as default};
//# sourceMappingURL=Input.stories-c3127f64.js.map
